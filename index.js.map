{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/js/local-storage-api.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('#task-form'),\n  list: document.querySelector('#task-list'),\n  btnCT: document.querySelector('.theme-toggle-button'),\n  body: document.querySelector('body'),\n};\n","export function createMarkup(data) {\n  return data.map(createCard).join('');\n}\n\nexport function createCard(singleCard) {\n  return `\n  <li class=\"task-list-item\" data-id=\"${singleCard.id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${singleCard.name}</h3>\n      <p>${singleCard.description}</p>\n  </li>`;\n}\n","import { refs } from './refs';\n\nexport function renderHTML(html) {\n  refs.list.insertAdjacentHTML('beforeend', html);\n}\n","const STORAGE_KEY = 'cards';\n\nexport function getStorageData() {\n  const data = localStorage.getItem(STORAGE_KEY);\n  if (data) {\n    return JSON.parse(data);\n  } else {\n    return [];\n  }\n}\n\nexport function writeStorageData(data) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n","import { refs } from './refs';\n\nexport function onBtnChangeTheme(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    if (refs.body.classList.contains('theme-dark')) {\n      refs.body.classList.remove('theme-dark');\n      refs.body.classList.add('theme-light');\n      localStorage.setItem('ui-theme', 'theme-light');\n    } else {\n      refs.body.classList.remove('theme-light');\n      refs.body.classList.add('theme-dark');\n      localStorage.setItem('ui-theme', 'theme-dark');\n    }\n  }\n}\n\nexport function initTheme() {\n  let savedTheme = localStorage.getItem('ui-theme');\n  console.log(savedTheme);\n\n  if (refs.body.classList.contains(savedTheme)) {\n    //console.log('YES');\n  } else {\n    console.log('NO');\n    refs.body.classList.replace('theme-dark', savedTheme);\n  }\n}\n","import { nanoid } from 'nanoid';\nimport { refs } from './js/refs';\nimport { createMarkup, createCard } from './js/markup-tasks';\nimport { renderHTML } from './js/render-tasks';\nimport { getStorageData, writeStorageData } from './js/local-storage-api';\nimport { onBtnChangeTheme, initTheme } from './js/theme-switcher';\n\nlet cards = getStorageData();\n\ninitTheme();\n\nrenderHTML(createMarkup(cards));\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.list.addEventListener('click', onBtnDelete);\nrefs.btnCT.addEventListener('click', onBtnChangeTheme);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const name = refs.form.elements.taskName.value.trim();\n  const descr = refs.form.elements.taskDescription.value.trim();\n  const cardId = nanoid();\n\n  const card = {\n    name,\n    description: descr,\n    id: cardId,\n  };\n\n  cards.push(card);\n\n  writeStorageData(cards);\n\n  renderHTML(createCard(card));\n\n  refs.form.reset();\n}\n\n/////////////////////////////////////////\n\nfunction onBtnDelete(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    const id = evt.target.closest('[data-id]').dataset.id;\n    cards = cards.filter(card => id !== card.id);\n    writeStorageData(cards);\n    refs.list.innerHTML = '';\n    renderHTML(createMarkup(cards));\n  }\n}\n"],"names":["refs","createMarkup","data","createCard","singleCard","renderHTML","html","STORAGE_KEY","getStorageData","writeStorageData","onBtnChangeTheme","evt","initTheme","savedTheme","cards","onFormSubmit","onBtnDelete","event","name","descr","cardId","nanoid","card","id"],"mappings":"svBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,YAAY,EACzC,MAAO,SAAS,cAAc,sBAAsB,EACpD,KAAM,SAAS,cAAc,MAAM,CACrC,ECLO,SAASC,EAAaC,EAAM,CACjC,OAAOA,EAAK,IAAIC,CAAU,EAAE,KAAK,EAAE,CACrC,CAEO,SAASA,EAAWC,EAAY,CACrC,MAAO;AAAA,wCAC+BA,EAAW,EAAE;AAAA;AAAA,YAEzCA,EAAW,IAAI;AAAA,WAChBA,EAAW,WAAW;AAAA,QAEjC,CCTO,SAASC,EAAWC,EAAM,CAC/BN,EAAK,KAAK,mBAAmB,YAAaM,CAAI,CAChD,CCJA,MAAMC,EAAc,QAEb,SAASC,GAAiB,CAC/B,MAAMN,EAAO,aAAa,QAAQK,CAAW,EAC7C,OAAIL,EACK,KAAK,MAAMA,CAAI,EAEf,EAEX,CAEO,SAASO,EAAiBP,EAAM,CACrC,aAAa,QAAQK,EAAa,KAAK,UAAUL,CAAI,CAAC,CACxD,CCXO,SAASQ,EAAiBC,EAAK,CAChCA,EAAI,OAAO,WAAa,WACtBX,EAAK,KAAK,UAAU,SAAS,YAAY,GAC3CA,EAAK,KAAK,UAAU,OAAO,YAAY,EACvCA,EAAK,KAAK,UAAU,IAAI,aAAa,EACrC,aAAa,QAAQ,WAAY,aAAa,IAE9CA,EAAK,KAAK,UAAU,OAAO,aAAa,EACxCA,EAAK,KAAK,UAAU,IAAI,YAAY,EACpC,aAAa,QAAQ,WAAY,YAAY,GAGnD,CAEO,SAASY,GAAY,CAC1B,IAAIC,EAAa,aAAa,QAAQ,UAAU,EAChD,QAAQ,IAAIA,CAAU,EAElBb,EAAK,KAAK,UAAU,SAASa,CAAU,IAGzC,QAAQ,IAAI,IAAI,EAChBb,EAAK,KAAK,UAAU,QAAQ,aAAca,CAAU,EAExD,CCnBA,IAAIC,EAAQN,EAAc,EAE1BI,IAEAP,EAAWJ,EAAaa,CAAK,CAAC,EAE9Bd,EAAK,KAAK,iBAAiB,SAAUe,CAAY,EACjDf,EAAK,KAAK,iBAAiB,QAASgB,CAAW,EAC/ChB,EAAK,MAAM,iBAAiB,QAASU,CAAgB,EAErD,SAASK,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOlB,EAAK,KAAK,SAAS,SAAS,MAAM,OACzCmB,EAAQnB,EAAK,KAAK,SAAS,gBAAgB,MAAM,OACjDoB,EAASC,IAETC,EAAO,CACX,KAAAJ,EACA,YAAaC,EACb,GAAIC,CACR,EAEEN,EAAM,KAAKQ,CAAI,EAEfb,EAAiBK,CAAK,EAEtBT,EAAWF,EAAWmB,CAAI,CAAC,EAE3BtB,EAAK,KAAK,OACZ,CAIA,SAASgB,EAAYL,EAAK,CACxB,GAAIA,EAAI,OAAO,WAAa,SAAU,CACpC,MAAMY,EAAKZ,EAAI,OAAO,QAAQ,WAAW,EAAE,QAAQ,GACnDG,EAAQA,EAAM,OAAOQ,GAAQC,IAAOD,EAAK,EAAE,EAC3Cb,EAAiBK,CAAK,EACtBd,EAAK,KAAK,UAAY,GACtBK,EAAWJ,EAAaa,CAAK,CAAC,CAC/B,CACH"}